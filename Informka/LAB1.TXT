0


                      ЛАБОРАТОРНАЯ РАБОТА 1

          РАБОТА В СРЕДЕ КОМАНД ПЕРСОНАЛЬНОГО КОМПЬЮТЕРА

                          1 ЦЕЛЬ РАБОТЫ

     Освоить основные  команды операционной системы MS DOS для ра-
боты с дисками, каталогами и файлами.

                   2 ПЕРСОНАЛЬНЫЙ КОМПЬЮТЕР

     2.1 Аппаратные средства и операционная система

     Персональный компьютер (ПК) имеет микропроцессор (МП), опера-
тивную память (ОП),внешние запоминающие устройства (ВУ) и устройс-
тва ввода-вывода (УВВ). Они представляют собой аппаратную часть ПК
(hardware). Конструктивно  ПК  оформлен  в  виде системного блока,
дисплея (монитора) и клавиатуры.

     МП - это "мозг" ПК,  он осуществляет вычисления по хранящейся
в ОП программе и обеспечивает общее управление компьютером. ВУ яв-
ляются электромеханическими устройствами  памяти  гораздо  большей
вместимости, чем ОП и служат для долговременного хранения программ
и данных. В ПК используются ВУ на магнитных дисках (МД). Обычно ПК
имеет один жесткий МД (ЖМД) и два гибких МД (ГМД). ГМД используют-
ся для архивного хранения программ и данных и переноса их с одного
ПК на другой.

     Дисплей служит  для вывода данных и сообщений программы поль-
зователю на телевизионном экране. В ПК обычно используются цветные
дисплеи, которые могут выводить символьную информацию или работать
в графическом режиме.

     Клавиатура используется для ввода в ПК команд и данных и поз-
воляет  пользователю управлять работой ПК.  Клавиатура ПК типа IBM
PC/AT имеет 101 клавишу.  Она включает алфавитно-цифровые и знако-
вые клавиши;  малую цифровую клавиатуру (справа); клавиши управле-
ния перемещением  указателя  (курсора)  и  функциональные  клавиши
F1-F12.

     Любая вводимая с клавиатуры последовательность символов отоб-
ражается  на экране дисплея,  а место в которое поступит следующий
символ указывается курсором.  Строка текста,  вводимая пользовате-
лем,  накапливается в буфере клавиатуры. Передача строки из буфера
в ПК производится нажатием клавиши ввода - Enter. Курсор переходит
в начало следующей строки.

     Для нормальной  работы  ПК  необходимо  системное программное
обеспечение (software) - операционная система  (ОС).  ОС  -  пакет
программ для  управления вычислительным процессом и оказания услуг
пользователю. ОС тесно связана с аппаратной частью  и  образует  с
ней единое целое - вычислительную установку. В ПК IBM PC чаще все-
го используется операционная система MS DOS. Она обеспечивает диа-
логовый (интерактивный) режим работы.  Пользователь вводит команду
с клавиатуры и посылает ее в ПК. ОС выполняет программу, связанную
с командой,  и выдает пользователю сообщение о выполнении команды,
после чего ПК переходит в  режим  ожидания  следующей  команды  от
пользователя.

     2.2 Включение ПК и загрузка операционной системы

     Для подготовки к работе ПК следует включить  в  сеть  сначала
монитор, а затем системный блок. После включения автоматически вы-
полняется встроенная в ПК программа проверки всех устройств, а за-
тем загружаются в ОП программы операционной системы и производится
настройка ОС на нужный режим работы. На дисплей выдаются сообщения
о проводимых  операциях  по подготовке к работе.  Процесс загрузки
можно прервать клавишей Pause, чтобы разобраться в сообщениях. Для
продолжения работы следует нажать любую клавишу. Загрузка заканчи-
вается выдачей на экран приглашения для ввода команды.

     При включенном ПК загрузку можно  инициировать  одновременным
нажатием клавиш <Alt>+<Ctrl>+Del>.

     2.3 Внешние устройства, файлы, каталоги

     Все программы и данные хранятся в MS DOS на магнитных дисках.
Каждый  дисковод  имеет  однобуквенное имя A,B,...,Z.  На одном МД
размещается множество программ и наборов данных - файлов.  Обраще-
ние к файлу производится указанием полного (составного) имени. Оно
состоит из имени файла (от одного до восьми символов) и расширения
(типа файла) (до трех символов). Имя и тип разделяются точкой нап-
ример:
     MYPROG.PAS - программа на языке ПАСКАЛЬ,
     KURS1.DBF - файл с базой данных.
Расширение определяет  назначение файла,  оно может отсутствовать.
Совокупность имени файла и расширения образует полное  (составное)
имя файла.

     Файловая система MS DOS позволяет объединять файлы на диске в
каталоги (директории).  Каталог - специальный файл,  в котором ре-
гистрируются другие файлы. Он может содержать файлы и другие ката-
логи,  т.е. допускается многоуровневая древовидная (иерархическая)
файловая структура.  Каждый каталог имеет имя. На каждом МД обяза-
тельно присутствует единственный главный (корневой) каталог, обоз-
начаемый символом \. В один каталог объединяют группу файлов и ка-
талогов одного функционального назначения или для одного пользова-
теля.

                                    \
                                    │
                        ┌───────────┼───────────┬─────────┐
                     PASCAL        DOC       fin.com   fin.bat
                        │           │
                ┌───────┴─────┐     │
              PROG          DATA  l1.ops
                │             │
          ┌─────┴────┐   ┌────┴────┐
       p1.pas    p2.pas p1.dt    p2.dd

                 Рис. 1. Файловая структура диска

     Полным маршрутом (путем) к файлу называют  последовательность
каталогов, ведущая  от корневого каталога к файлу.  Полный маршрут
дается перечислением имен каталогов,  разделяемых символом \, при-
чем корневой каталог от его дочернего каталога символом \ не отде-
ляется.

     Примеры полных маршрутов (см. рис. 1):

     \PASCAL\DATA - полный маршрут к файлам P1.DT и P2.DD,
     \ - полный маршрут к файлам FIN.COM и FIN.BAT,
     \DOC - полный маршрут к файлу L1.OPS.

     Маршрут или  его часть,  начиная с корневого каталога,  можно
закрепить для каждого дисковода (сделать текущим командой CD). DOS
для каждого дискового устройства хранит закрепленный текущий марш-
рут. Один из дисководов можно сделать активным. При смене активно-
го дисковода устанавливается закрепленный за ним маршрут.

     Имя активного дисковода и текущий его каталог обычно указыва-
ется в подсказке приглашения для ввода команды в командной строке.

     2.4 Спецификация файла

     Для доступа к файлу в команде или программе требуется  задать
спецификацию файла, которая состоит из трех частей:
     имя дисковода, на котором установлен диск;
     маршрут к файлу по файловой структуре этого  диска;
     составное имя файла (имя и расширение).

     Имя диска отделяется от маршрута  знаком  двоеточия,  маршрут
от имени файла - знаком \, расширение от имени - точкой.

     Общий формат спецификации файла:

     [дисковод:][маршрут\]имя_файла[.расширение].

     Здесь необязательные  элементы спецификации заключены в квад-
ратные скобки.

     Закрепление имени  диска и текущего маршрута позволяет упрос-
тить запись спецификации файла в командной строке.  DOS  формирует
полную спецификацию файла по следующим правилам, если указана сок-
ращенная спецификация:

     если имя диска не задано, то выбирается активный дисковод;
     если маршрут начинается с символа "\", то поиск каталога, где
должен содержаться  файл,  начинается с корневого каталога на выб-
ранном диске;
     если маршрут начинается с имени каталога , то поиск каталога,
где должен содержаться файл, осуществляется с текущего каталога на
выбранном диске;
     если маршрут не задан,  (указано только имя файла),  то поиск
файла делается в текущем каталоге.

     Например, если файловая структура (см.  рис.  1) находится на
диске A и текущим является маршрут A:\PASCAL\DATA,  то для доступа
к  файлу  p1.dt  достаточна  спецификация  из имени и расширения -
p1.dt. Если текущий маршрут A:\PASCAL, требуется задать специфика-
цию - PROG\p1.pas для файла p1.pas.

     Каждый каталог  имеет два специальных элемента с именами .  и
..; первый .  (точка) является ссылкой на самого себя,  второй  ..
(две точки) указывает на родительский каталог. Эти имена дают воз-
можность указания маршрута через родительский  каталог.  Например,
если текущий  маршрут  A:\PASCAL,  то для обращения к файлу l1.ops
следует указать спецификацию ..\DOC\l1.ops.

     2.5 Спецификация группы файлов. Шаблоны

     Некоторые команды DOS могут обработать не один,  а последова-
тельно группу однородных файлов.  Тогда в спецификации вместо сос-
тавного имени файла используется шаблон группы файлов.

     Шаблоном (образом) является составное имя файла,  в полях ко-
торого используются символы-заменители.  Шаблон обозначает  группу
существующих файлов, составные имена которых сопоставляются с дан-
ным шаблоном. Шаблон действует лишь в пределах указанного каталога.

     В DOS для шаблонов используются два символа-заменителя.  Сим-
вол "?" указывает на любой (но единственный) символ в данной пози-
ции. В полях имени файла и расширения допускается использовать лю-
бое количество заменителей.  Символ  "*"  обозначает  произвольную
последовательность символов (возможно нулевой длины) от данной по-
зиции до следующего символа или до конца поля.

     Для дерева каталогов рис.  1 спецификация \PASCAL\PROG\P?.PAS
задает файлы,  имена которых состоят из двух символов, первый сим-
вол Р,  второй  -  любой,  а  расширение PAS.  Будут найдены файлы
P1.PAS и P2.PAS. Полное групповое имя *.PAS задает любое имя файла
длиной от одного до восьми символов и расширение PAS.
Спецификации \PASCAL\DATA\P?.* в дереве каталогов рис. 1 соответс-
твуют файлы P1.DT и P2.DD.


                          3 КОМАНДЫ DOS

     3.1 Общие сведения о командах DOS

     Команды обеспечивают  взаимодействие  пользователя с вычисли-
тельной установкой. Запросы на выполнение команд вводятся с клави-
атуры в ответ на приглашение DOS и называются командными строками.
Командная строка набирается на клавиатуре,  как на обычной пишущей
машинке,  и отображается на экране дисплея. При вводе строки можно
исправлять неправильные символы.  Ввод командной строки в ЭВМ осу-
ществляется  нажатием  клавиши  Enter.  DOS обрабатывает командную
строку, выполняет программу, связанную с командой и выдает пригла-
шение на ввод новой команды. Программа команды часто выдает инфор-
мационные сообщения в ходе своего выполнения.

     3.2 Формат команды DOS:

     имя_команды [параметр]... [ключ]...

     где имя_команды - зарезервированное в DOS ключевое слово,
     параметр - сведения об объектах,  с которыми работает команда
                (спецификации файлов,  каталогов  и  т.д.).  Может
                быть несколько параметров;
     ключ - дополнительная информация для уточнения функций коман-
            ды. Может быть несколько ключей в команде.

     Параметры отделяются хотя бы одним пробелом,  каждый ключ на-
чинается  с  символа / (слэш).  Допускается водить составные части
команды большими и малыми латинскими буквами.

     Каждая команда  DOS выдает краткую справку о ее использовании,
если ее выполнить в следующем формате:

                          имя_команды /?
     
     Подробные сведения о командах DOS можно  получить  диалоговой
справочной службой  DOS,  которую  можно вызвать командой HELP без
параметров.

     3.3 Перенаправление ввода-вывода. Программный канал

     Обычно команды  выводят результаты работы и сообщения на уст-
ройство стандартного вывода - экран,  и получают входные данные  с
устройства стандартного ввода - клавиатуры. DOS имеет средства пе-
реназначения стандартного ввода и вывода в  текстовые  файлы.  Для
переназначения  вывода  в файл необходимо в командной строке после
команды поставить символ переназначения (>),  а затем указать спе-
цификацию файла переназначения. Например команда
     
     DIR *.TXT > A:\SPIS.DIR
     
сформирует список файлов типа TXT для текущего каталога и  запишет
его в файл SPIS.DIR на устройство А в корневой каталог.  Если файл
SPIS.DIR уже существовал, он будет заменен на новый файл с этим же
именем.

     Для добавления выходных данных к  концу  существующего  файла
используется два символа ">>". Команда

     TYPE FILE1.TXT  >>REZUL.TXT  добавит  в конец файла REZUL.TXT
содержимое файла FILE1.TXT.

     Перенаправление стандартного ввода  программы  из  текстового
файла делается символом (<), например

     PROG <MIFILE.DAN  -  обеспечит ввод данных для программы PROG
из файла MIFILE.DAN.

     Направление стандартного  вывода одной программы (команды) на
вход другой обеспечивается за счет использования программных кана-
лов  (конвейеров).  Конвейером называется последовательность прог-
рамм (команд),  задаваемых в одной командной строке.  Для создания
конвейера следует в командной строке записать две или более коман-
ды и соединить их знаком "|":

     prog1 | prog2 | ... | progn.

     Здесь выходные данные  программы  PROG1  будут  переданы  как
входные для PROG2, последняя программа Progn выведет результаты на
экран.

     В MS DOS есть программы-фильтры, которые позволяют отредакти-
ровать выводимые на экран данные (см. команду MORE).

     3.4 Команды работы с дисками

     Команда drive: (drive - имя диска)

     Она делает один из дисководов активным, например С: - закреп-
ляет дисковод С.  Имя закрепленного диска может не  указываться  в
спецификациях файлов при вводе других команд. Обычно имя активного
дисковода присутствует в приглашении командной строки DOS.

     Команда FORMAT

     Форматирует диск для использования в MS-DOS.

FORMAT drive: [/V[:label]] [/Q] [/U] [/F:size] [/C]
FORMAT drive: [/V[:label]] [/Q] [/U] [/T:tracks /N:sectors] [/S] [/C]
FORMAT drive: [/V[:label]] [/Q] [/U] [/1] [/4] [/C]
FORMAT drive: [/Q] [/U] [/4] [/C]

  /V[:label]  Специфицирует метку тома.
  /Q          Быстрое форматирование.
  /U          Безусловное форматирование.
  /F:size     Указание размера гибкого диска
              (160, 180, 320, 360, 720, 1.2, 1.44, 2.88).
  /T:tracks   Указывает число треков на диске.
  /N:sectors  Указывает число секторов на треке.
  /4          Форматирует 5.25-дюйм. диск на 360K на дисководе 1.2М.
  /C          Проверяет секторы, отмеченные как дефектные.

     Команда VOL

     Показывает метку тома и его серийный номер, если они существуют.

VOL [drive:]
     
     Команда LABEL

     Создает, изменяет или удаляет метку тома на диске.

LABEL [drive:][label]

     label - имя,  которое следует назначить диску.  Если label не
указан, команда просит ввести новое имя диска.

     3.5 Команды работы с каталогами

     Команда MKDIR (MD)

     Создает новый каталог

MKDIR [drive:]path
MD [drive:]path

     Команда CHDIR (CD)

     Изменение текущего маршрута или показ установленного.

CHDIR [drive:][path]
CHDIR [..]
CD [drive:][path]
CD [..]

  ..   Указывается, если вы хотите перейти к родительскому каталогу.

CD drive: показывает установленный ранее маршрут на указанном диске.
CD без параметров показывает текущий диск и маршрут.

     Команда RMDIR (RD)

     Удаляет каталог по указанному маршруту

RMDIR [drive:]path
RD [drive:]path

     Команда TREE

     Показывает структуру каталогов, начиная с указанного в маршруте.

TREE [drive:][path] [/F]

  /F   Показывает имена файлов в каждом каталоге.

     Команда DIR

     Показывает список файлов и подкаталогов в каталоге.

DIR [drive:][path][filename] [/P] [/W] [/O[[:]sortord]] [/S]

  [drive:][path][filename]   Указывает диск, путь и файлы, список
                             которых следует показать
  /P      Постраничная выдача списка файлов.
  /W      Краткая информация о файлах по несколько в строке.
  /O:*    Отсортированный список. Признак сортировки (sorted)
          задается символом вместо звездочки:
            N  По имени                   S  По размеру
            E  По расширению              D  По дате и времени
            G  Сгруппировать каталоги в начале списка
            Если перед буквой стоит - , сортировка по убыванию
  /S      Выводится список файлов во всех подкаталогах.

     3.6 Команды работы с файлами

     Команда COPY

     Копирует один или соединяет несколько файлов в другой файл.

COPY  source [+ source [+ ...]] [destination] [/V] [/Y | /-Y]
  source       Специфицирует входной (входные) файлы для копирования.
  destination  Специфицирует каталог и имя выходного файла.
  /V           Проверка выходного файла во время копирования.
  /Y           Спрашивать подтверждение на замену существующего
               выходного файла с указанным именем.
  /-Y          Проводить замену без предупреждения.

     При слиянии нескольких файлов в один указывается спецификация
одного выходного файла,  а спецификации входных файлов соединяются
знаком  +.  Можно  использовать групповую спецификацию для входных
файлов.

     Команда MOVE

     Перемещает один или несколько файлов в другой  каталог.  MOVE
может использоваться для переименования каталога.

MOVE [drive:][path]filename1[,...] destination

  [drive:][path]filename специфицирует перемещаемый файл. Несколь-
                ко спецификаций файлов разделяются запятыми.
                Можно использовать шаблоны в спецификациях файлов.
  destination - указывает маршрут для каталога,  в который переме-
                щаются файл(ы). Если перемещается один файл, в по-
                ле destination можно указать новое имя файла.

     Для переименования каталога используется команда MOVE в  фор-
мате

MOVE [drive:][path]dirname1 dirname2

  [drive:][path]dirname1  спецификация каталога со старым именем.

  dirname2                новое имя каталога.

     Команда DEL (ERASE)

     Удаляет один или несколько файлов.

DEL [drive:][path]filename [/P]
ERASE [drive:][path]filename [/P]

  [drive:][path]filename  Специфицирует удаляемые файлы. Можно
                          использовать шаблоны в спецификации.
  /P                      Подтверждение для удаления каждого файла.

     Команда TYPE

     Выводит содержимое текстового файла на терминал.

TYPE [drive:][path]filename

     Команда MORE

     Вывод на экран текстового файла с паузой после заполнения эк-
рана терминала.

MORE  [< filename]

Команда с указанием переназначения входного файла выводит  его  на
экран с  остановкой  после  вывода 23 строк текста.  Любая клавиша
приводит к выводу следующей порции текста.

     Обычно команда MORE используется в конвейере команд.

PROG | MORE

Результаты работы программы PROG будут выводиться на экран в пост-
раничном режиме.

     3.7 Установка даты и времени

     Команда DATE

Показывает и устанавливает в DOS дату.

DATE [mm-dd-yy]

  mm-dd-yy - формат установки даты.

Вводите DATE без параметров для получения установленной в DOS даты.
Вы можете затем ввести новую дату. Для сохранения установленной да-
ты просто нажмите Enter.

     Команда TIME

Показывает текущее или устанавливает новое время в DOS.

TIME [time]

Вводите TIME без параметров для получения установленного времени и
получения подсказки для установки нового времени.

     Команда VER

Показывает версию MS-DOS, установленную на ПК.

VER

